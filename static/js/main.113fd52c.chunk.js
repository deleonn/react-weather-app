(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{34:function(n,t,e){},54:function(n,t,e){"use strict";e.r(t);var r=e(2),c=e(1),o=e.n(c),i=e(24),a=e.n(i),u=(e(34),e(7)),l=e.n(u),s=e(8),f=e(6),d=e(4),j=e(3),h=e(12),b=e(10);function g(){var n=Object(d.a)(["\n  color: ",";\n"]);return g=function(){return n},n}function m(){var n=Object(d.a)(["\n  display: flex;\n  justify-content: space-evenly;\n  align-items: space-evenly;\n  width: 100%;\n"]);return m=function(){return n},n}function O(){var n=Object(d.a)(["\n  font-size: 1.4em;\n  margin: 0;\n  padding: 0;\n  font-weight: 300;\n"]);return O=function(){return n},n}function p(){var n=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-evenly;\n  border-radius: 20px;\n  color: ",";\n  background: ",";\n  width: calc(100vw / 5);\n  max-width: 200px;\n  height: 254px;\n"]);return p=function(){return n},n}var v=j.c.div(p(),(function(n){return n.theme.fontColor}),(function(n){return n.bgColor})),x=j.c.h3(O()),w=j.c.div(m()),C=j.c.p(g(),(function(n){return n.theme.fontColor}));var y=function(n){var t=n.date,e=n.icon,o=n.high,i=n.low,a=n.bgColor;return Object(c.useContext)(j.a).fontColor,Object(r.jsxs)(v,{bgColor:a,children:[Object(r.jsx)(x,{children:Object(b.a)(new Date(1e3*t),"EEEE")}),Object(r.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(e,"@2x.png")}),Object(r.jsxs)(w,{children:[Object(r.jsxs)(C,{children:["L: ",null===i||void 0===i?void 0:i.toFixed(0),"\xb0"]}),Object(r.jsxs)(C,{children:["H: ",null===o||void 0===o?void 0:o.toFixed(0),"\xb0"]})]})]})};function k(){var n=Object(d.a)(["\n  color: ",";\n  font-size: 1.4rem;\n  margin: 0;\n  font-weight: 300;\n"]);return k=function(){return n},n}function F(){var n=Object(d.a)(["\n  color: ",";\n  font-size: 4rem;\n  text-align: left;\n"]);return F=function(){return n},n}function E(){var n=Object(d.a)(["\n  color: ",";\n  font-size: 1.4rem;\n  margin: 0;\n  font-weight: 300;\n"]);return E=function(){return n},n}function B(){var n=Object(d.a)(["\n  color: ",";\n  font-size: 2rem;\n  margin: 0;\n"]);return B=function(){return n},n}function S(){var n=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-top: -2rem;\n  margin-left: -2rem;\n"]);return S=function(){return n},n}function z(){var n=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  width: 400px;\n  margin-bottom: 5rem;\n  margin-left: 3rem;\n"]);return z=function(){return n},n}var D=j.c.div(z()),A=j.c.div(S()),I=j.c.h2(B(),(function(n){return n.theme.fontColor})),L=j.c.h3(E(),(function(n){return n.theme.fontColor})),M=j.c.h3(F(),(function(n){return n.theme.fontColor})),T=j.c.p(k(),(function(n){return n.theme.fontColor}));var P=function(n){var t=n.timezone,e=n.date,o=n.type,i=n.loading,a=n.temperature,u=n.icon;return Object(c.useContext)(j.a).fontColor,Object(r.jsx)(D,{children:!i&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(I,{children:t}),Object(r.jsx)(L,{children:Object(b.a)(new Date(1e3*e),"EEEE dd',' MMMM")}),Object(r.jsxs)(A,{children:[Object(r.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(u,"@2x.png")}),Object(r.jsxs)(M,{children:[a.toFixed(0),"\xb0 ",Object(r.jsx)(T,{children:o})]})]})]})})};function H(){var n=Object(d.a)(["\n  color: ",";\n  font-size: 4;\n  margin: 0;\n"]);return H=function(){return n},n}function J(){var n=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  flex: 1;\n"]);return J=function(){return n},n}var q=j.c.div(J()),G=j.c.h3(H(),(function(n){return n.theme.fontColor}));var R=function(n){var t=n.children;return Object(r.jsx)(q,{children:Object(r.jsx)(G,{children:t})})},U={background:"#e0e0e0",cardColors:["#C7B0C8","#B3B2C9","#CBBA9B","#BDBACC","#D59A98"],fontColor:"#2D2D2D"},K={background:"linear-gradient(130deg, #000000, #284DB1)",cardColors:["#823588","#383588","#AC863F","#9D96B8","#C3423F"],fontColor:"#FFFFFF"},N=e(28),Q=e.n(N).a.create({baseURL:"http://localhost:4000/api",timeout:1e4}),V=function(){var n=Object(s.a)(l.a.mark((function n(t,e){var r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Q.get("weather/forecast",{params:{lat:t,lon:e}});case 3:return r=n.sent,n.abrupt("return",r);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t,e){return n.apply(this,arguments)}}();function W(){var n=Object(d.a)(["\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  cursor: pointer;\n"]);return W=function(){return n},n}function X(){var n=Object(d.a)(["\n  display: flex;\n  justify-content: space-evenly;\n  max-width: 100vw;\n  width: 100%;\n  margin: 0 auto;\n"]);return X=function(){return n},n}function Y(){var n=Object(d.a)(["\n  background: ",";\n  height: 100vh;\n  max-width: 100vw;\n  margin: 0;\n  overflow: hidden;\n"]);return Y=function(){return n},n}var Z=j.c.div(Y(),(function(n){return n.theme.background})),$=j.c.div(X()),_=j.c.span(W());var nn=function(){var n=function(){var n=Object(c.useState)(null),t=Object(f.a)(n,2),e=t[0],r=t[1],o=Object(c.useState)(null),i=Object(f.a)(o,2),a=i[0],u=i[1],l=Object(c.useState)(!0),s=Object(f.a)(l,2),d=s[0],j=s[1];Object(c.useEffect)((function(){var n=navigator.geolocation;n?n.getCurrentPosition(h,b,{maximumAge:6e4,timeout:5e3,enableHighAccuracy:!0}):u("Geolocation is not supported")}),[]);var h=function(n){var t=n.coords;r({latitude:t.latitude,longitude:t.longitude}),j(!1)},b=function(n){u(n.message),j(!1)};return{location:e,locationError:a,loading:d}}(),t=n.locationError,e=n.location,o=n.loading,i=function(){var n=Object(c.useState)("dark"),t=Object(f.a)(n,2),e=t[0],r=t[1];return Object(c.useEffect)((function(){var n=localStorage.getItem("theme");n&&r(n)}),[]),{theme:e,toggleTheme:function(){return"light"===e?(localStorage.setItem("theme","dark"),r("dark")):(localStorage.setItem("theme","light"),r("light"))}}}(),a=i.theme,u=i.toggleTheme,d=Object(c.useState)({}),b=Object(f.a)(d,2),g=b[0],m=b[1],O=Object(c.useState)(!0),p=Object(f.a)(O,2),v=p[0],x=p[1],w=Object(c.useState)(!1),C=Object(f.a)(w,2),k=C[0],F=C[1];Object(c.useEffect)((function(){Object.keys(g).length||E()}),[e]);var E=function(){var n=Object(s.a)(l.a.mark((function n(){var t;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null===e||!Object.keys(e)){n.next=6;break}return n.next=3,V(e.latitude,e.longitude);case 3:200!==(t=n.sent).status?F(!0):m(t.data),x(!1);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(r.jsx)(j.b,{theme:"dark"===a?K:U,children:Object(r.jsxs)(Z,{children:[Object(r.jsxs)(_,{onClick:u,children:["dark"===a&&Object(r.jsx)(h.a,{size:40,color:"#fff"}),"light"===a&&Object(r.jsx)(h.b,{size:40,color:"#2d2d2d"})]}),t&&Object(r.jsx)(R,{children:t}),(o||v)&&Object(r.jsx)(R,{children:"Loading... be sure your browser allows sharing your current location"}),k&&Object(r.jsx)(R,{children:"There was an error handling the request. Please try again soon."}),!v&&!k&&Object(r.jsxs)("div",{style:{padding:"3rem"},children:[Object(r.jsx)(P,{timezone:g.timezone,type:g.current.weather[0].main,icon:g.current.weather[0].icon,date:g.current.dt,loading:v,temperature:g.current.temp}),Object(r.jsx)($,{children:g&&g.daily.slice(0,5).map((function(n,t){return Object(r.jsx)(y,{date:n.dt,low:n.temp.min,high:n.temp.max,icon:n.weather[0].icon,bgColor:"dark"===a?K.cardColors[t]:U.cardColors[t]},n.dt)}))})]})]})})},tn=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,55)).then((function(t){var e=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;e(n),r(n),c(n),o(n),i(n)}))};a.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(nn,{})}),document.getElementById("root")),tn()}},[[54,1,2]]]);
//# sourceMappingURL=main.113fd52c.chunk.js.map